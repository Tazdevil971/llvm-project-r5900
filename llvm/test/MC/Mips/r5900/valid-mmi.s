# Instructions that are added/valid in the R5900 (MMI)
#
# RUN: llvm-mc %s -triple=mips64-ps2-elf -show-encoding -mcpu=r5900 | FileCheck %s

foo:
    mfsa $2      # CHECK: mfsa  $2     # encoding: [0x00,0x00,0x10,0x28]
    mtsa $2      # CHECK: mtsa  $2     # encoding: [0x00,0x40,0x00,0x29]
    mtsab $2, 0  # CHECK: mtsab $2, 0  # encoding: [0x04,0x58,0x00,0x00]
    mtsah $2, 0  # CHECK: mtsah $2, 0  # encoding: [0x04,0x59,0x00,0x00]

    qfsrv $2, $3, $4  # CHECK: qfsrv $2, $3, $4  # encoding: [0x70,0x64,0x16,0xe8]

    pabsh $2, $3       # CHECK: pabsh $2, $3         # encoding: [0x70,0x03,0x11,0x68]
    paddb $2, $3, $4   # CHECK: paddb $2, $3, $4     # encoding: [0x70,0x64,0x12,0x08] 
    paddh $2, $3, $4   # CHECK: paddh $2, $3, $4     # encoding: [0x70,0x64,0x11,0x08] 
    paddsb $2, $3, $4  # CHECK: paddsb $2, $3, $4    # encoding: [0x70,0x64,0x16,0x08] 
    paddsh $2, $3, $4  # CHECK: paddsh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x08] 
    paddsw $2, $3, $4  # CHECK: paddsw $2, $3, $4    # encoding: [0x70,0x64,0x14,0x08] 
    paddub $2, $3, $4  # CHECK: paddub $2, $3, $4    # encoding: [0x70,0x64,0x16,0x28] 
    padduh $2, $3, $4  # CHECK: padduh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x28] 
    padduw $2, $3, $4  # CHECK: padduw $2, $3, $4    # encoding: [0x70,0x64,0x14,0x28] 
    paddw $2, $3, $4   # CHECK: paddw $2, $3, $4     # encoding: [0x70,0x64,0x10,0x08]
    padsbh $2, $3, $4  # CHECK: padsbh $2, $3, $4    # encoding: [0x70,0x64,0x11,0x28]
    pand $2, $3, $4    # CHECK: pand $2, $3, $4      # encoding: [0x70,0x64,0x14,0x89]
    pceqb $2, $3, $4   # CHECK: pceqb $2, $3, $4     # encoding: [0x70,0x64,0x12,0xa8]
    pceqh $2, $3, $4   # CHECK: pceqh $2, $3, $4     # encoding: [0x70,0x64,0x11,0xa8]
    pceqw $2, $3, $4   # CHECK: pceqw $2, $3, $4     # encoding: [0x70,0x64,0x10,0xa8]
    pcgtb $2, $3, $4   # CHECK: pcgtb $2, $3, $4     # encoding: [0x70,0x64,0x12,0x88]
    pcgth $2, $3, $4   # CHECK: pcgth $2, $3, $4     # encoding: [0x70,0x64,0x11,0x88]
    pcgtw $2, $3, $4   # CHECK: pcgtw $2, $3, $4     # encoding: [0x70,0x64,0x10,0x88]
    pcpyh $2, $3       # CHECK: pcpyh $2, $3         # encoding: [0x70,0x03,0x16,0xe9]
    pcpyld $2, $3, $4  # CHECK: pcpyld $2, $3, $4    # encoding: [0x70,0x64,0x13,0x89]
    pcpyud $2, $3, $4  # CHECK: pcpyud $2, $3, $4    # encoding: [0x70,0x64,0x13,0xa9]
    pdivbw $2, $3      # CHECK: pdivbw $2, $3        # encoding: [0x70,0x43,0x07,0x49]   
    pdivuw $2, $3      # CHECK: pdivuw $2, $3        # encoding: [0x70,0x43,0x03,0x69]   
    pdivw $2, $3       # CHECK: pdivw $2, $3         # encoding: [0x70,0x43,0x03,0x49]
    pexch $2, $3       # CHECK: pexch $2, $3         # encoding: [0x70,0x03,0x16,0xa9]
    pexcw $2, $3       # CHECK: pexcw $2, $3         # encoding: [0x70,0x03,0x17,0xa9]
    pexeh $2, $3       # CHECK: pexeh $2, $3         # encoding: [0x70,0x03,0x16,0x89]
    pexew $2, $3       # CHECK: pexew $2, $3         # encoding: [0x70,0x03,0x17,0x89]
    pext5 $2, $3       # CHECK: pext5 $2, $3         # encoding: [0x70,0x03,0x17,0x88]
    pextlb $2, $3, $4  # CHECK: pextlb $2, $3, $4    # encoding: [0x70,0x64,0x16,0x88]
    pextlh $2, $3, $4  # CHECK: pextlh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x88]
    pextlw $2, $3, $4  # CHECK: pextlw $2, $3, $4    # encoding: [0x70,0x64,0x14,0x88]
    pextub $2, $3, $4  # CHECK: pextub $2, $3, $4    # encoding: [0x70,0x64,0x16,0xa8]
    pextuh $2, $3, $4  # CHECK: pextuh $2, $3, $4    # encoding: [0x70,0x64,0x15,0xa8]
    pextuw $2, $3, $4  # CHECK: pextuw $2, $3, $4    # encoding: [0x70,0x64,0x14,0xa8]
    phmadh $2, $3, $4  # CHECK: phmadh $2, $3, $4    # encoding: [0x70,0x64,0x14,0x49]
    phmsbh $2, $3, $4  # CHECK: phmsbh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x49]
    pinteh $2, $3, $4  # CHECK: pinteh $2, $3, $4    # encoding: [0x70,0x64,0x12,0xa9]
    pinth $2, $3, $4   # CHECK: pinth $2, $3, $4     # encoding: [0x70,0x64,0x12,0x89]
    pmaddh $2, $3, $4  # CHECK: pmaddh $2, $3, $4    # encoding: [0x70,0x64,0x14,0x09]
    pmadduw $2, $3, $4 # CHECK: pmadduw $2, $3, $4   # encoding: [0x70,0x64,0x10,0x29]
    pmaddw $2, $3, $4  # CHECK: pmaddw $2, $3, $4    # encoding: [0x70,0x64,0x10,0x09]
    pmaxh $2, $3, $4   # CHECK: pmaxh $2, $3, $4     # encoding: [0x70,0x64,0x11,0xc8]
    pmaxw $2, $3, $4   # CHECK: pmaxw $2, $3, $4     # encoding: [0x70,0x64,0x10,0xc8]
    pmfhi $2           # CHECK: pmfhi $2             # encoding: [0x70,0x00,0x12,0x09]
    pmfhl.lh $2        # CHECK: pmfhl.lh $2          # encoding: [0x70,0x00,0x10,0xf0]
    pmfhl.lw $2        # CHECK: pmfhl.lw $2          # encoding: [0x70,0x00,0x10,0x30]
    pmfhl.sh $2        # CHECK: pmfhl.sh $2          # encoding: [0x70,0x00,0x11,0x30]
    pmfhl.slw $2       # CHECK: pmfhl.slw $2         # encoding: [0x70,0x00,0x10,0xb0]
    pmfhl.uw $2        # CHECK: pmfhl.uw $2          # encoding: [0x70,0x00,0x10,0x70]
    pmflo $2           # CHECK: pmflo $2             # encoding: [0x70,0x00,0x12,0x49]
    pminh $2, $3, $4   # CHECK: pminh $2, $3, $4     # encoding: [0x70,0x64,0x11,0xe8]
    pminw $2, $3, $4   # CHECK: pminw $2, $3, $4     # encoding: [0x70,0x64,0x10,0xe8]
    pmsubh $2, $3, $4  # CHECK: pmsubh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x09]
    pmsubw $2, $3, $4  # CHECK: pmsubw $2, $3, $4    # encoding: [0x70,0x64,0x11,0x09]
    pmthi $2           # CHECK: pmthi $2             # encoding: [0x70,0x40,0x02,0x29]
    pmthl.lw $2        # CHECK: pmthl.lw $2          # encoding: [0x70,0x40,0x00,0x31]
    pmtlo $2           # CHECK: pmtlo $2             # encoding: [0x70,0x40,0x02,0x69]
    pmulth $2, $3, $4  # CHECK: pmulth $2, $3, $4    # encoding: [0x70,0x64,0x17,0x09]
    pmultuw $2, $3, $4 # CHECK: pmultuw $2, $3, $4   # encoding: [0x70,0x64,0x13,0x29]
    pmultw $2, $3, $4  # CHECK: pmultw $2, $3, $4    # encoding: [0x70,0x64,0x13,0x09]
    pnor $2, $3, $4    # CHECK: pnor $2, $3, $4      # encoding: [0x70,0x64,0x14,0xe9]
    por $2, $3, $4     # CHECK: por	$2, $3, $4       # encoding: [0x70,0x64,0x14,0xa9]
    ppac5 $2, $3       # CHECK: ppac5 $2, $3         # encoding: [0x70,0x03,0x17,0xc8]
    ppacb $2, $3, $4   # CHECK: ppacb $2, $3, $4     # encoding: [0x70,0x64,0x16,0xc8]
    ppach $2, $3, $4   # CHECK: ppach $2, $3, $4     # encoding: [0x70,0x64,0x15,0xc8]
    ppacw $2, $3, $4   # CHECK: ppacw $2, $3, $4     # encoding: [0x70,0x64,0x14,0xc8]
    prevh $2, $3       # CHECK: prevh $2, $3         # encoding: [0x70,0x03,0x16,0xc9]
    prot3w $2, $3      # CHECK: prot3w $2, $3        # encoding: [0x70,0x03,0x17,0xc9]
    psllh $2, $3, 4    # CHECK: psllh $2, $3, 4      # encoding: [0x70,0x03,0x11,0x34]
    psllvw $2, $3, $4  # CHECK: psllvw $2, $3, $4    # encoding: [0x70,0x64,0x10,0x89]
    psllw $2, $3, 4    # CHECK: psllw $2, $3, 4      # encoding: [0x70,0x03,0x11,0x3c]
    psrah $2, $3, 4    # CHECK: psrah $2, $3, 4      # encoding: [0x70,0x03,0x11,0x37]
    psravw $2, $3, $4  # CHECK: psravw $2, $3, $4    # encoding: [0x70,0x64,0x10,0xe9]
    psraw $2, $3, 4    # CHECK: psraw $2, $3, 4      # encoding: [0x70,0x03,0x11,0x3f]
    psrlh $2, $3, 4    # CHECK: psrlh $2, $3, 4      # encoding: [0x70,0x03,0x11,0x36]
    psrlvw $2, $3, $4  # CHECK: psrlvw $2, $3, $4    # encoding: [0x70,0x64,0x10,0xc9]
    psrlw $2, $3, 4    # CHECK: psrlw $2, $3, 4      # encoding: [0x70,0x03,0x11,0x3e]
    psubb $2, $3, $4   # CHECK: psubb $2, $3, $4     # encoding: [0x70,0x64,0x12,0x48]
    psubh $2, $3, $4   # CHECK: psubh $2, $3, $4     # encoding: [0x70,0x64,0x11,0x48]
    psubsb $2, $3, $4  # CHECK: psubsb $2, $3, $4    # encoding: [0x70,0x64,0x16,0x48]
    psubsh $2, $3, $4  # CHECK: psubsh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x48]
    psubsw $2, $3, $4  # CHECK: psubsw $2, $3, $4    # encoding: [0x70,0x64,0x14,0x48]
    psubub $2, $3, $4  # CHECK: psubub $2, $3, $4    # encoding: [0x70,0x64,0x16,0x68]
    psubuh $2, $3, $4  # CHECK: psubuh $2, $3, $4    # encoding: [0x70,0x64,0x15,0x68]
    psubuw $2, $3, $4  # CHECK: psubuw $2, $3, $4    # encoding: [0x70,0x64,0x14,0x68]
    psubw $2, $3, $4   # CHECK: psubw $2, $3, $4     # encoding: [0x70,0x64,0x10,0x48]
    pxor $2, $3, $4    # CHECK: pxor $2, $3, $4      # encoding: [0x70,0x64,0x14,0xc9]